platform: cryosat2

# Information of getting an input file list
input_handler:
    
    module_name: pysiral.cryosat2.iotools
    class_name: BaselineDFileDiscovery
    
    options:
        local_machine_def_tag: baseline_d  # -> l1b_repository.$platform.$input_tag in (local_machine_def.yaml)
        lookup_dir: null  # Leave emtpy: This will be automatically filled with information from local_machine_def
        lookup_modes: [sar, sin]
        filename_search: CS_TEST_SIR_*_1B_{year:04d}{month:02d}{day:02d}*_D001.nc
        filename_sep: _   # character to split the filename
        tcs_str_index: 5  # index of time_coverage_start string in file (when splitting filename with filename_sep)

# Class that will generate the initial l1p data object from
# the input data
input_adapter:
    
    module_name: pysiral.cryosat2.l1_adapter
    class_name: ESACryoSat2PDSBaselineD
    
    options:
        
        name: "CryoSat-2 Level-1b data of the ESA PDS Instrument Processing Facility (algorithm baseline D)"
        
        range_correction_targets:
            dry_troposphere: mod_dry_tropo_cor_01
            wet_troposphere: mod_wet_tropo_cor_01
            inverse_barometric: inv_bar_cor_01
            dynamic_atmosphere: hf_fluct_total_cor_01
            ionosphere: iono_cor_01
            ionosphere_gim: iono_cor_gim_01
            ocean_tide_elastic: ocean_tide_01
            ocean_tide_long_period: ocean_tide_eq_01
            ocean_loading_tide: load_tide_01
            solid_earth_tide: solid_earth_tide_01
            geocentric_polar_tide: pole_tide_01
        
        classifier_targets:
            stack_peakiness: stack_peakiness_20_ku
            stack_skewness: stack_skewness_20_ku
            stack_scaled_amplitude: stack_scaled_amplitude_20_ku
            stack_standard_deviation: stack_std_20_ku
            stack_kurtosis: stack_kurtosis_20_ku
            stack_centre: stack_centre_20_ku
            stack_centre_angle: stack_centre_angle_20_ku
            stack_centre_look_angle: stack_centre_look_angle_20_ku
            transmit_power: transmit_pwr_20_ku
            noise_power: noise_power_20_ku
        


# Output handler (will always be default handler -> only options)
output_handler:
   
    options:
        version:
            value: test
            product_file_tag: pds_ipf1d
            version_file_tag: vftest


# Settings for the pre-processor
level1_preprocessor:
    
    type: custom_orbit_segment
    
    options:
        
        polar_ocean:
            target_hemisphere: [north, south]
            polar_latitude_threshold: 50.0
            input_file_is_single_hemisphere: True
            allow_nonocean_segment_nrecords: 1000
    
        orbit_segment_connectivity:
            max_connected_segment_timedelta_seconds: 10
        
        post_processing_items:
            
            # Resample SIN waveforms to the same size as SAR waveforms
            # NOTE: This will only have an effect of SIN segments
            - label: "Resample SIN waveforms"
              module_name: pysiral.cryosat2.functions
              class_name: L1PWaveformResampleSIN
              options:
                  sin_target_bins: 256








